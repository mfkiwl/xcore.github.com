
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Android Accessory Protocol &mdash; XCore Open Source Repository Index v0 documentation</title>
    <link rel="stylesheet" href="static/xdoc.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="http://mathjax.connectmv.com/MathJax.js"></script>
    <script type="text/javascript" src="static/xcomment.js"></script>
    <link rel="top" title="XCore Open Source Repository Index v0 documentation" href="index.html" /> 

<script>
function setheight() {
h1 = document.getElementById('d1').style.height;
h2 = document.getElementById('d2').style.height;

if (parseInt(h1) > parseInt(h2)) {
document.getElementById('d2').style.height=h1 + "px";
}
else {
document.getElementById('d1').style.height=h2 + "px";
}

}
</script>
</head>

<body onload="setheight();">

  
    <div class="document" id='d1'>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
<div style="float: right">
</div>

            
  <div class="section" id="android-accessory-protocol">
<h1>Android Accessory Protocol<a class="headerlink" href="#android-accessory-protocol" title="Permalink to this headline">¶</a></h1>
<p>This summary page is auto-generated from the github repository. <a class="reference external" href="http://github.com/xcore/sc_android_aap"><span>Click here to visit the main repository page</span></a>.</p>
<p><a class="reference external" href="index.html"><span>Go to repository index</span></a></p>
<div class="download container">
<a
onClick="window.open('https://github.com/xcore/sc_android_aap/zipball/master');window.focus();return true;" href="sc_android_aap_master_download.html">Download the latest master branch snapshot</a></div>
<div class="section" id="details">
<h2>Details:<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Stable release:</th><td class="field-body">unreleased</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">idea</td>
</tr>
<tr class="field"><th class="field-name">Maintainer:</th><td class="field-body">vinithmundhra</td>
</tr>
<tr class="field"><th class="field-name">Description:</th><td class="field-body">Implementation of Android Accessory Protocol</td>
</tr>
</tbody>
</table>
<div class="section" id="key-features">
<h3>Key Features<a class="headerlink" href="#key-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Recognizes Android (Samsung Google Nexus S) phone</li>
<li>Puts (and checks) the phone into accessory mode</li>
<li>Processes IR remote command and sends it to Android phone to toggle phone application button objects</li>
</ul>
</div>
<div class="section" id="firmware-overview">
<h3>Firmware Overview<a class="headerlink" href="#firmware-overview" title="Permalink to this headline">¶</a></h3>
<p>Initial IR Remote implementation is based on an iPod Dock V2 board. The Android device is first recognized (checked) and put into &#8216;accessory&#8217; mode. Once this is successful, the XMOS device can communicate with the Android device using its bulk endpoints. Commands from IR remote is processed and sent to the application in the Android phone to toggle button objects.</p>
<p>Phone application is available from the Android developer website and can be downloaded on to the phone using Android SDK.</p>
<p>The IR folder contains code for processing remote commands.</p>
</div>
<div class="section" id="required-repositories">
<h3>Required Repositories<a class="headerlink" href="#required-repositories" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>xcommon git&#64;github.com:xcore/xcommon.git</li>
</ul>
</div>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>** Installing and running the demo (Command Line) **</p>
<p>From an environment that can access the XMOS Desktop Development tools, unzip the zipfile and from the app_android_aap_ir directory run:</p>
<blockquote>
<div><ul class="simple">
<li>xmake all</li>
<li>xflash bin/app_android_aap_ir/aap.xe</li>
<li>power cycle the hardware</li>
</ul>
</div></blockquote>
<p>To rapidly try out modifications to the firmware, from the app_android_aap_ir directory run:</p>
<blockquote>
<div><ul class="simple">
<li>xmake all</li>
<li>xrun bin/app_android_aap_ir/aap.xe</li>
</ul>
</div></blockquote>
<p>Firmware run in this way will not persist following a power cycle of the hardware.</p>
<p>** Installing and running the demo (XDE) **</p>
<p>To install, open the XDE Eclipse IDE and perform the following steps:</p>
<blockquote>
<div><ul class="simple">
<li>Select the &#8220;Import&#8221; item from the &#8220;File&#8221; menu</li>
<li>Select &#8220;General&#8221; -&gt; &#8220;Existing Projects into Workspace&#8221; and click &#8220;Next&#8221;</li>
<li>Click on &#8220;Browse&#8221; next to &#8220;Select archive file&#8221; and select the button server zipfile</li>
<li>Make sure the project you want to import is ticked in the &#8220;Projects:&#8221; list</li>
<li>Click on &#8220;Finish&#8221;</li>
</ul>
</div></blockquote>
<p>To build, select the project in the Project Explorer window and click on build icon.</p>
<p>To run, click on the run icon. The initial run attempt will prompt for confirmation of whether to write the firmware to the iPod Dock flash, or run the firmware.</p>
<blockquote>
<div><ul class="simple">
<li>if the firmware is written to flash, the hardware must then be power cycled</li>
<li>if the firmware is run directly from XDE it will not persist following a power cycle of the hardware</li>
</ul>
</div></blockquote>
<p>To configure the project to run on a particular device or in the simulator click on the drop down arrow next to the run icon and select &#8220;Run Configurations&#8221;</p>
</div>
<div class="section" id="support">
<h3>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h3>
<p>This release of firmware is supported on following XMOS Boards:
XR-IPOD-DOCK-V2 1V1</p>
<p>Please contact: vinithmundhra for firmware issues. Users wishing to develop this work further and who are not MFI licensed should contact XMOS to enquire about obtaining a suitable development board.</p>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="to-do">
<h3>To Do<a class="headerlink" href="#to-do" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" id='d2'>
        <div class="sphinxsidebarwrapper">


<div id="searchbox">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>



    <div class="footer">
    </div>
  </body>
</html>



